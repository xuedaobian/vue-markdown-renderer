import{_ as a,c as t,o as i,ag as s}from"./chunks/framework.CA53vVaN.js";const u=JSON.parse('{"title":"E2E Testing Report","description":"","frontmatter":{},"headers":[],"relativePath":"e2e-testing-report.md","filePath":"e2e-testing-report.md"}'),o={name:"e2e-testing-report.md"};function l(n,e,d,r,p,c){return i(),t("div",null,[...e[0]||(e[0]=[s(`<h1 id="e2e-testing-report" tabindex="-1">E2E Testing Report <a class="header-anchor" href="#e2e-testing-report" aria-label="Permalink to &quot;E2E Testing Report&quot;">​</a></h1><blockquote><p>中文版请查看 <a href="./e2e-testing-report.zh-CN.html">e2e-testing-report.zh-CN.md</a>。</p></blockquote><p>This document summarizes the end-to-end markdown parsing tests added to this repository.</p><h2 id="purpose" tabindex="-1">Purpose <a class="header-anchor" href="#purpose" aria-label="Permalink to &quot;Purpose&quot;">​</a></h2><p>Provide a small, reproducible E2E test harness that validates the parser and renderer handle common markdown constructs and to serve as a base for future coverage expansion.</p><h2 id="what-was-added" tabindex="-1">What was added <a class="header-anchor" href="#what-was-added" aria-label="Permalink to &quot;What was added&quot;">​</a></h2><ul><li><p><code>test/fixtures/</code> — directory with representative markdown fixtures:</p><ul><li><code>headings.md</code></li><li><code>code-diff.md</code></li><li><code>table.md</code></li><li><code>admonition.md</code></li><li><code>math.md</code></li><li><code>footnotes.md</code></li><li><code>image-link.md</code></li><li><code>checkbox.md</code></li><li><code>mermaid.md</code></li></ul></li><li><p><code>test/e2e.markdown.test.ts</code> — a Vitest test that:</p><ul><li>reads each fixture</li><li>parses it via <code>parseMarkdownToStructure</code> (using <code>getMarkdown</code> instance)</li><li>serializes a minimal stable structure and asserts a snapshot per fixture</li><li>includes a small <code>renderMarkdown</code> assertion for inline math/code block rendering</li></ul></li><li><p>Snapshots — generated by Vitest (placed in the default snapshot location).</p></li><li><p><code>.github/workflows/ci.yml</code> — GitHub Actions workflow that runs on <code>push</code> and <code>pull_request</code> to:</p><ul><li>install dependencies</li><li>run <code>pnpm test</code></li><li>run <code>pnpm typecheck</code></li><li>run <code>pnpm lint</code></li></ul></li></ul><h2 id="how-to-run-locally" tabindex="-1">How to run locally <a class="header-anchor" href="#how-to-run-locally" aria-label="Permalink to &quot;How to run locally&quot;">​</a></h2><p>Run tests (and update snapshots if you intentionally changed output):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span></span></code></pre></div><p>Run tests without updating snapshots:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><p>Typecheck and lint:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> typecheck</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint</span></span></code></pre></div><h2 id="quality-gates-local-validation" tabindex="-1">Quality gates (local validation) <a class="header-anchor" href="#quality-gates-local-validation" aria-label="Permalink to &quot;Quality gates (local validation)&quot;">​</a></h2><ul><li>Tests: PASS (73 passed locally)</li><li>Typecheck: PASS</li><li>Lint: PASS</li></ul><h2 id="recommendations-next-steps" tabindex="-1">Recommendations / Next steps <a class="header-anchor" href="#recommendations-next-steps" aria-label="Permalink to &quot;Recommendations / Next steps&quot;">​</a></h2><ol><li>Convert snapshots to include more detailed fields in <code>minimal</code> serialization (for example, include <code>children</code> text snippets or node <code>meta</code>), to catch regressions in node payloads.</li><li>Add fixtures for edge cases: <ul><li>Unclosed fences</li><li>Complex nested lists with markup inside</li><li>Escaped bracket edge-cases</li><li>Streaming fence edgecases</li></ul></li><li>Add integration tests for rendering plugins that require DOM or workers (Mermaid, KaTeX worker, Monaco). Consider adding a browser-based test job (Playwright) for those.</li><li>Configure CI to run snapshots or a visual regression step if the renderer&#39;s HTML output becomes more important.</li></ol><p>If you want, I can:</p><ol><li>Expand snapshots to include richer metadata (children snippets, meta fields).</li><li>Add the proposed edge-case fixtures and assertions.</li><li>Draft a Playwright-based CI job for DOM-heavy plugins.</li></ol><p>Let me know which option you’d prefer next。</p>`,21)])])}const m=a(o,[["render",l]]);export{u as __pageData,m as default};
