import{_ as a,c as i,o as n,ag as e}from"./chunks/framework.CA53vVaN.js";const c=JSON.parse('{"title":"Monorepo Migration Guide","description":"","frontmatter":{},"headers":[],"relativePath":"monorepo-migration.md","filePath":"monorepo-migration.md"}'),t={name:"monorepo-migration.md"};function p(l,s,r,h,o,d){return n(),i("div",null,[...s[0]||(s[0]=[e(`<h1 id="monorepo-migration-guide" tabindex="-1">Monorepo Migration Guide <a class="header-anchor" href="#monorepo-migration-guide" aria-label="Permalink to &quot;Monorepo Migration Guide&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The markdown parsing utilities have been extracted into a separate package <code>stream-markdown-parser</code> to enable framework-agnostic usage.</p><h2 id="package-structure" tabindex="-1">Package Structure <a class="header-anchor" href="#package-structure" aria-label="Permalink to &quot;Package Structure&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>vue-markdown-render/</span></span>
<span class="line"><span>├── packages/</span></span>
<span class="line"><span>│   └── markdown-parser/          # stream-markdown-parser</span></span>
<span class="line"><span>│       ├── src/</span></span>
<span class="line"><span>│       │   ├── index.ts          # Main entry</span></span>
<span class="line"><span>│       │   ├── config.ts         # Math options config</span></span>
<span class="line"><span>│       │   ├── types.ts          # TypeScript types</span></span>
<span class="line"><span>│       │   ├── parser/           # Core parsing logic</span></span>
<span class="line"><span>│       │   ├── plugins/          # Markdown-it plugins</span></span>
<span class="line"><span>│       │   │   └── math.ts       # Math plugin</span></span>
<span class="line"><span>│       │   └── renderers/        # Custom renderers</span></span>
<span class="line"><span>│       ├── dist/                 # Built files</span></span>
<span class="line"><span>│       ├── package.json</span></span>
<span class="line"><span>│       ├── tsconfig.json</span></span>
<span class="line"><span>│       └── tsup.config.ts</span></span>
<span class="line"><span>├── src/                          # Main Vue package</span></span>
<span class="line"><span>│   ├── components/</span></span>
<span class="line"><span>│   ├── utils/</span></span>
<span class="line"><span>│   └── exports.ts</span></span>
<span class="line"><span>└── playground/</span></span></code></pre></div><h2 id="changes" tabindex="-1">Changes <a class="header-anchor" href="#changes" aria-label="Permalink to &quot;Changes&quot;">​</a></h2><h3 id="_1-new-package-stream-markdown-parser" tabindex="-1">1. New Package: <code>stream-markdown-parser</code> <a class="header-anchor" href="#_1-new-package-stream-markdown-parser" aria-label="Permalink to &quot;1. New Package: \`stream-markdown-parser\`&quot;">​</a></h3><ul><li><strong>Pure JavaScript/TypeScript</strong> - No Vue dependencies</li><li><strong>Framework agnostic</strong> - Can be used in any JS project</li><li><strong>Single entry point</strong> - All exports from main index</li><li><strong>Exports</strong>: Everything from <code>stream-markdown-parser</code></li></ul><h3 id="_2-updated-main-package" tabindex="-1">2. Updated Main Package <a class="header-anchor" href="#_2-updated-main-package" aria-label="Permalink to &quot;2. Updated Main Package&quot;">​</a></h3><p>The main <code>vue-renderer-markdown</code> package now depends on <code>stream-markdown-parser</code>:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;stream-markdown-parser&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-import-changes" tabindex="-1">3. Import Changes <a class="header-anchor" href="#_3-import-changes" aria-label="Permalink to &quot;3. Import Changes&quot;">​</a></h3><p><strong>Before:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { getMarkdown, parseMarkdownToStructure, setDefaultMathOptions } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-renderer-markdown&#39;</span></span></code></pre></div><p><strong>After (same for consumers):</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { getMarkdown, parseMarkdownToStructure, setDefaultMathOptions } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-renderer-markdown&#39;</span></span></code></pre></div><p>The API remains the same for end users! The change is internal.</p><p><strong>For parser-only usage:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getMarkdown,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  KATEX_COMMANDS,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  normalizeStandaloneBackslashT,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parseMarkdownToStructure,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  setDefaultMathOptions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;stream-markdown-parser&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// All exports are from the main entry point</span></span></code></pre></div><h2 id="development" tabindex="-1">Development <a class="header-anchor" href="#development" aria-label="Permalink to &quot;Development&quot;">​</a></h2><h3 id="install-dependencies" tabindex="-1">Install Dependencies <a class="header-anchor" href="#install-dependencies" aria-label="Permalink to &quot;Install Dependencies&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><h3 id="build-parser-package" tabindex="-1">Build Parser Package <a class="header-anchor" href="#build-parser-package" aria-label="Permalink to &quot;Build Parser Package&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/markdown-parser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><h3 id="build-main-package" tabindex="-1">Build Main Package <a class="header-anchor" href="#build-main-package" aria-label="Permalink to &quot;Build Main Package&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../..</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><h3 id="run-tests" tabindex="-1">Run Tests <a class="header-anchor" href="#run-tests" aria-label="Permalink to &quot;Run Tests&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Test all packages</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Test parser only</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/markdown-parser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><h2 id="publishing" tabindex="-1">Publishing <a class="header-anchor" href="#publishing" aria-label="Permalink to &quot;Publishing&quot;">​</a></h2><h3 id="publish-parser-package" tabindex="-1">Publish Parser Package <a class="header-anchor" href="#publish-parser-package" aria-label="Permalink to &quot;Publish Parser Package&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/markdown-parser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span></span></code></pre></div><h3 id="publish-main-package" tabindex="-1">Publish Main Package <a class="header-anchor" href="#publish-main-package" aria-label="Permalink to &quot;Publish Main Package&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../..</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span></span></code></pre></div><h2 id="benefits" tabindex="-1">Benefits <a class="header-anchor" href="#benefits" aria-label="Permalink to &quot;Benefits&quot;">​</a></h2><ol><li><strong>Reusability</strong>: The parser can be used in non-Vue projects</li><li><strong>Smaller bundles</strong>: Projects that only need parsing don&#39;t need Vue</li><li><strong>Better separation</strong>: Clear boundary between parsing and rendering</li><li><strong>Independent versioning</strong>: Parser and Vue components can version separately</li><li><strong>Easier testing</strong>: Parser logic can be tested in isolation</li></ol><h2 id="migration-for-internal-code" tabindex="-1">Migration for Internal Code <a class="header-anchor" href="#migration-for-internal-code" aria-label="Permalink to &quot;Migration for Internal Code&quot;">​</a></h2><p>If you&#39;re working on the codebase:</p><p><strong>Old:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ParsedNode } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./utils/markdown/types&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { getMarkdown } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./utils/markdown&#39;</span></span></code></pre></div><p><strong>New:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ParsedNode } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;stream-markdown-parser&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { getMarkdown } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;stream-markdown-parser&#39;</span></span></code></pre></div><h2 id="future-plans" tabindex="-1">Future Plans <a class="header-anchor" href="#future-plans" aria-label="Permalink to &quot;Future Plans&quot;">​</a></h2><ul><li>Add more parser utilities</li><li>Support for custom node types in parser</li><li>Streaming parser improvements</li><li>Performance optimizations</li></ul>`,43)])])}const g=a(t,[["render",p]]);export{c as __pageData,g as default};
