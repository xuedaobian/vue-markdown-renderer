import{_ as o,c as d,o as a,ag as c}from"./chunks/framework.CA53vVaN.js";const k=JSON.parse('{"title":"使用示例与 API","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/api.md","filePath":"zh/guide/api.md"}'),r={name:"zh/guide/api.md"};function t(i,e,l,n,s,p){return a(),d("div",null,[...e[0]||(e[0]=[c('<h1 id="使用示例与-api" tabindex="-1">使用示例与 API <a class="header-anchor" href="#使用示例与-api" aria-label="Permalink to &quot;使用示例与 API&quot;">​</a></h1><p>此页概述最常用的 API 并给出一些高级自定义用法（解析钩子、渲染策略和代码块选项）。</p><h2 id="最常用函数" tabindex="-1">最常用函数 <a class="header-anchor" href="#最常用函数" aria-label="Permalink to &quot;最常用函数&quot;">​</a></h2><ul><li><code>getMarkdown()</code> — 获取经过配置的 <code>markdown-it-ts</code> 实例与相关选项（用于自定义插件、翻译或解析行为）。</li><li><code>parseMarkdownToStructure()</code> — 将 Markdown 字符串转换为渲染器可用的节点树（ParsedNode[]），适用于需要在渲染前对节点进行修改或检查的场景。</li></ul><h2 id="组件与示例" tabindex="-1">组件与示例 <a class="header-anchor" href="#组件与示例" aria-label="Permalink to &quot;组件与示例&quot;">​</a></h2><ul><li>组件：<code>MarkdownRender</code>、<code>CodeBlockNode</code>、<code>MarkdownCodeBlockNode</code>、<code>MermaidNode</code></li></ul><h3 id="流式与基本模式" tabindex="-1">流式与基本模式 <a class="header-anchor" href="#流式与基本模式" aria-label="Permalink to &quot;流式与基本模式&quot;">​</a></h3><ul><li>流式 Markdown：适合 AI 模型响应和实时预览。文档会在增量 token 到达时更新，以避免重新解析整个 Markdown。</li><li>经典用法：将静态 <code>content</code> 字符串传给 <code>MarkdownRender</code> 即可进行预生成的渲染。</li></ul><h3 id="常用-props-与选项" tabindex="-1">常用 Props 与选项 <a class="header-anchor" href="#常用-props-与选项" aria-label="Permalink to &quot;常用 Props 与选项&quot;">​</a></h3><ul><li><code>content</code>（string）— 必需（除非提供 <code>nodes</code>）。</li><li><code>nodes</code>（BaseNode[]）— 可选：直接传入 AST 节点，跳过字符串解析。适用于服务端或预解析场景。</li><li><code>renderCodeBlocksAsPre</code> — 将代码块渲染为 <code>&lt;pre&gt;&lt;code&gt;</code> 而非富文本高亮/编辑器组件。适用于静态或导出场景。</li><li><code>codeBlockStream</code> — 控制代码块是否按流式方式渲染（可逐步显示内容）。</li><li><code>viewportPriority</code> — 优先渲染可视区域内的高开销节点以改善初次渲染性能。</li></ul><h2 id="高级" tabindex="-1">高级 <a class="header-anchor" href="#高级" aria-label="Permalink to &quot;高级&quot;">​</a></h2><p>调用 <code>setCustomComponents</code> 可覆盖内部节点渲染。例如：将 <code>code_block</code> 渲染为 <code>MarkdownCodeBlockNode</code>，或将某些自定义 <code>html_block</code> token 转换为专用节点并由自定义组件渲染。</p><p>要使用解析器钩子，传入 <code>parseMarkdownToStructure</code> 的 <code>ParseOptions</code> 包含：<code>preTransformTokens</code>、<code>postTransformTokens</code>、<code>postTransformNodes</code>。这些钩子也可通过 <code>MarkdownRender</code> 的 <code>parseOptions</code> prop 传入（仅在 <code>content</code> 被使用时生效）。</p><p>如果需要更详细的 props 表或 TypeScript 类型参考，请查看仓库中 <code>packages/markdown-parser/README.md</code> 与 <code>types</code> 导出。</p>',14)])])}const u=o(r,[["render",t]]);export{k as __pageData,u as default};
