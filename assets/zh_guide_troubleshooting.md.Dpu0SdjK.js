import{_ as o,c as i,o as s,ag as d}from"./chunks/framework.CA53vVaN.js";const u=JSON.parse('{"title":"排查问题","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/troubleshooting.md","filePath":"zh/guide/troubleshooting.md"}'),t={name:"zh/guide/troubleshooting.md"};function a(n,e,l,c,r,p){return s(),i("div",null,[...e[0]||(e[0]=[d(`<h1 id="排查问题" tabindex="-1">排查问题 <a class="header-anchor" href="#排查问题" aria-label="Permalink to &quot;排查问题&quot;">​</a></h1><p>如果出现问题，请尝试下面这些通用解决方案：</p><ul><li>在 SSR 中出现 <code>window is not defined</code>：在 Nuxt 中将客户端代码包装为 <code>&lt;client-only&gt;</code>，在 Vite SSR 场景中用 <code>onMounted</code> 延迟初始化。</li><li>数学渲染失败：安装并引入 <code>katex</code>，同时在应用入口引入 <code>katex/dist/katex.min.css</code>。</li><li>Mermaid 渲染问题：升级到 <code>mermaid</code> &gt;= 11，检查异步渲染日志。</li><li>性能问题：确认 <code>viewportPriority</code> 已启用，避免在单次 mount 中渲染大量重资产节点。</li></ul><h2 id="常见问题-faq" tabindex="-1">常见问题（FAQ） <a class="header-anchor" href="#常见问题-faq" aria-label="Permalink to &quot;常见问题（FAQ）&quot;">​</a></h2><ul><li><p>Tailwind / CSS 覆盖样式：当项目使用 Tailwind 或组件库（如 shadcn）时，Tailwind 的工具类或全局样式可能会覆盖库本身的样式。请参考 Tailwind 集成指南以了解样式导入顺序和解决策略：<code>/zh/guide/tailwind</code>。</p><p>快速修复：</p></li><li><p>自定义样式：你可以通过覆盖 <code>src/index.css</code> 中的 CSS 变量来自定义外观（例如 <code>--vscode-editor-background</code>、<code>--vscode-editor-foreground</code>），或在你的应用样式中覆盖组件类。推荐使用 <code>@apply</code> 或将自定义样式限定到某个容器内。</p></li><li><p>插槽优先：如果你需要更改组件内布局，先检查组件是否暴露了插槽（例如 <code>header-left</code>、<code>header-right</code>、<code>loading</code>）。插槽提供稳健的扩展点，无需替换组件内部实现。</p></li><li><p>还是不够？试试 <code>setCustomComponents(id, mapping)</code> 将节点渲染器替换为你自己的 Vue 组件，详见 <code>Advanced</code> 页面的示例；记得在 SPA 中及时 <code>removeCustomComponents</code> 清理映射以避免内存泄露。</p><p>快速示例（将 <code>code_block</code> 节点替换为自定义渲染器）：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { setCustomComponents } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-renderer-markdown&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setCustomComponents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-docs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  code_block: MyCustomCodeBlock,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>这将告知所有带有 <code>custom-id=&quot;my-docs&quot;</code> 的 <code>MarkdownRender</code> 实例，使用 <code>MyCustomCodeBlock</code> 渲染 <code>code_block</code> 节点；更多示例请参见 <code>Advanced</code> 页面。</p></li><li><p>重现与提单：遇到渲染异常或报错时，请先在 <code>playground</code> 中尝试复现问题并提供最小 Markdown 示例（或使用托管的快速测试页面）。可以运行 <code>pnpm test</code> 进行本地测试以确认是否为回归问题。打开 issue 时请包含：</p></li></ul><ol><li>可复现的最小 Markdown 示例（粘贴在 issue 中或放到 gist）。</li><li>在 playground 的复现步骤或 <code>playground</code> 链接，以及运行环境信息（浏览器、Node 版本、Vite/Nuxt）。</li><li>错误堆栈或 console 输出。</li></ol><p>优先提供一个 <code>playground</code> 对应的复现链接；你也可以使用托管的快速测试以便快速调试：</p><p><a href="https://vue-markdown-renderer.netlify.app/test" target="_blank" rel="noreferrer">https://vue-markdown-renderer.netlify.app/test</a></p><p>如果准备好了，使用快速创建 issue 链接：</p><p><a href="https://github.com/Simon-He95/vue-markdown-renderer/issues/new?template=bug_report.yml" target="_blank" rel="noreferrer">https://github.com/Simon-He95/vue-markdown-renderer/issues/new?template=bug_report.yml</a></p><p>额外建议：如果你可以编写一个单测或集成测试来复现 bug，请将其放入 <code>test/</code> 文件夹并在本地运行 <code>pnpm test</code>，这通常能帮助维护者快速定位并修复回归。</p>`,11)])])}const k=o(t,[["render",a]]);export{u as __pageData,k as default};
