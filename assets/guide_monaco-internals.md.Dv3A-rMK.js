import{_ as i,c as e,o as s,ag as n}from"./chunks/framework.CA53vVaN.js";const u=JSON.parse('{"title":"Monaco Internals","description":"","frontmatter":{},"headers":[],"relativePath":"guide/monaco-internals.md","filePath":"guide/monaco-internals.md"}'),o={name:"guide/monaco-internals.md"};function t(l,a,r,d,h,c){return s(),e("div",null,[...a[0]||(a[0]=[n(`<h1 id="monaco-internals" tabindex="-1">Monaco Internals <a class="header-anchor" href="#monaco-internals" aria-label="Permalink to &quot;Monaco Internals&quot;">​</a></h1><p>This page covers build and runtime tips for <code>monaco-editor</code> when using the library.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stream-monaco</span></span></code></pre></div><h2 id="vite-bundling-tips" tabindex="-1">Vite bundling tips <a class="header-anchor" href="#vite-bundling-tips" aria-label="Permalink to &quot;Vite bundling tips&quot;">​</a></h2><ul><li>Monaco requires worker configuration for production builds. Use <code>vite-plugin-monaco-editor-esm</code> or <code>vite-plugin-monaco-editor</code>.</li><li>In Vite config:<div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> monacoEditorPlugin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite-plugin-monaco-editor&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ plugins: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">monacoEditorPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()] })</span></span></code></pre></div></li></ul><h2 id="avoid-worker-not-found-errors" tabindex="-1">Avoid worker-not-found errors <a class="header-anchor" href="#avoid-worker-not-found-errors" aria-label="Permalink to &quot;Avoid worker-not-found errors&quot;">​</a></h2><ul><li>Ensure the plugin packages Monaco workers where your site expects them (e.g., via <code>customDistPath</code>) and verify worker file urls after build.</li><li>If bundling into a library, make sure the peer <code>stream-monaco</code> is installed in consuming applications.</li></ul><h2 id="packaging-notes" tabindex="-1">Packaging notes <a class="header-anchor" href="#packaging-notes" aria-label="Permalink to &quot;Packaging notes&quot;">​</a></h2><ul><li>The library lazy-loads Monaco only when a <code>CodeBlockNode</code> mounts. This reduces initial bundle size and avoids SSR failures.</li></ul><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><ul><li>If you see <code>Failed to load Monaco worker</code>, check that the worker files are present in <code>dist</code> and accessible by the built site. The plugin&#39;s <code>customDistPath</code> can help relocate them.</li></ul>`,12)])])}const k=i(o,[["render",t]]);export{u as __pageData,k as default};
