import{_ as i,c as a,o as l,ag as t}from"./chunks/framework.CA53vVaN.js";const k=JSON.parse('{"title":"E2E 测试报告（中文）","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/e2e-testing-report.md","filePath":"zh/guide/e2e-testing-report.md"}'),s={name:"zh/guide/e2e-testing-report.md"};function o(d,e,p,n,c,h){return l(),a("div",null,[...e[0]||(e[0]=[t(`<h1 id="e2e-测试报告-中文" tabindex="-1">E2E 测试报告（中文） <a class="header-anchor" href="#e2e-测试报告-中文" aria-label="Permalink to &quot;E2E 测试报告（中文）&quot;">​</a></h1><blockquote><p>英文版参见：<code>docs/e2e-testing-report.md</code>。</p></blockquote><p>本文档汇总了仓库中新增的端到端（E2E）Markdown 解析测试，便于在未来持续扩展覆盖范围。</p><h2 id="目标" tabindex="-1">目标 <a class="header-anchor" href="#目标" aria-label="Permalink to &quot;目标&quot;">​</a></h2><p>提供一个精简、可复现的 E2E 测试套件，用于验证解析器和渲染器是否能正确处理常见的 Markdown 结构，并作为后续扩展的基础。</p><h2 id="新增内容" tabindex="-1">新增内容 <a class="header-anchor" href="#新增内容" aria-label="Permalink to &quot;新增内容&quot;">​</a></h2><ul><li><p><code>test/fixtures/</code> —— 收录具有代表性的 Markdown 用例：</p><ul><li><code>headings.md</code></li><li><code>code-diff.md</code></li><li><code>table.md</code></li><li><code>admonition.md</code></li><li><code>math.md</code></li><li><code>footnotes.md</code></li><li><code>image-link.md</code></li><li><code>checkbox.md</code></li><li><code>mermaid.md</code></li></ul></li><li><p><code>test/e2e.markdown.test.ts</code> —— Vitest 测试文件，主要职责：</p><ul><li>读取每个 fixture</li><li>使用 <code>parseMarkdownToStructure</code>（基于 <code>getMarkdown</code>）进行解析</li><li>序列化为最小稳定结构并针对每个 fixture 生成快照</li><li>含有一个针对行内数学/代码块渲染的断言</li></ul></li><li><p>快照 —— 由 Vitest 生成，存放在默认快照目录。</p></li><li><p><code>.github/workflows/ci.yml</code> —— GitHub Actions 工作流，在 <code>push</code> 与 <code>pull_request</code> 时执行：</p><ul><li>安装依赖</li><li>运行 <code>pnpm test</code></li><li>运行 <code>pnpm typecheck</code></li><li>运行 <code>pnpm lint</code></li></ul></li></ul><h2 id="本地运行方式" tabindex="-1">本地运行方式 <a class="header-anchor" href="#本地运行方式" aria-label="Permalink to &quot;本地运行方式&quot;">​</a></h2><p>如需在本地运行测试（并在输出预期发生变化时更新快照）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span></span></code></pre></div><p>仅运行测试（不更新快照）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><p>类型检查与 ESLint：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> typecheck</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint</span></span></code></pre></div><h2 id="建议-下一步" tabindex="-1">建议 / 下一步 <a class="header-anchor" href="#建议-下一步" aria-label="Permalink to &quot;建议 / 下一步&quot;">​</a></h2><ol><li>扩展快照内容（例如加入 <code>children</code> 文本片段与节点 <code>meta</code>），提升对节点 payload 回归的捕捉能力。</li><li>增加以下边界场景的 fixture 与断言： <ul><li>未闭合的代码围栏</li><li>深度嵌套列表中混合标记</li><li>转义括号等特殊场景</li><li>流式代码围栏的异常输入</li></ul></li><li>为需要 DOM 或 Worker 的插件（Mermaid、KaTeX、Monaco）补充集成测试，并考虑在 CI 中加入基于 Playwright 的浏览器流程。</li></ol><p>如果需要，我可以：</p><ol><li>立即扩充快照的元信息。</li><li>补充上述边界场景的 fixture 与测试。</li><li>起草一个面向 DOM 插件的 Playwright CI 任务。</li></ol><p>欢迎告知下一步的优先项。</p>`,19)])])}const u=i(s,[["render",o]]);export{k as __pageData,u as default};
